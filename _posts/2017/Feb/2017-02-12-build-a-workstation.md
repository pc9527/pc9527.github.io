---
title: 男人的台式机
---
# 男人的台式机

在2014年用上MacBook Pro之前，我一直笃信的理念是“男人，就要用台式机”，用途，特指写程序和玩游戏两种。

## 老式做派

在同时代半导体制造水平下的个人计算设备，尺寸之所以会有上至半人高的塔式机箱，下至手机和树莓派，都是在运算能力和便携性两个维度找平衡。每个人对于计算的要求不同：有上网看片的，也有处理ppt/doc/xls专用的，有用matlab搞复杂计算的，也有用来下载存储的。

作为一个有点追求，喜欢钻研各种问题的玩家，从90年代演变来的一揽子方案就是：整一台性能尽可能强，扩展性尽可能高的电脑，从玩游戏到各种上述各种计算，都能完美解决。“男人，就要用台式机”的理念就是这么来的。

显然这不是对所有人的最优解。一个股民平时就运行一下“大智慧”，需要独立显卡的台式机吗？一个U盘大小的电脑棒就可以解决问题。还有经常出差在外的，背着电脑挤高铁，14寸都嫌重，台式机？还是SurfacePro那种平板产品更适合。

## 运算能力的取舍

买了2014款MacBook Pro之后第一年，发现所有写程序的需求都被这个安静、便携的设备解决了，但随着时间的推移，事情慢慢起了变化：npm的依赖越来越多，rails应用的规模越来越大，sidekiq的异步任务队列变长，crontab里的计划任务越来越密集——前后端都跑在一台13寸笔记本上容易吗？

CPU/GPU越强，相应耗电越大，发热越高，散热越困难，产生的噪音越大。逐渐的22nm制程的Haswell CPU开始不堪重负，风扇屡屡加速运行，安静的设备不见了，优雅的mbp成了一个咆哮着撒气的机器——

## 虚拟化来帮忙

为了能在写程序时有个安静的环境——服务器程序没必要放在笔记本上，在台式机上开若干虚拟机，把计算密集的服务部署在有着强大散热性能和先进制程（14nm Skylake）的台式机上，除了需要多开一台电脑，从性能到噪音控制，基本完美了。

## 游戏呢？

前不久玩游戏时为了调整最优性能，颇改了一些注册表和配置文件，直接导致Windows 10系统崩溃，好在虚拟机的镜像文件还在。现在的游戏，不到100G一个都不好意思称呼自己为3A大作，所以256G的ssd也已经成了扔货——难道就装一个游戏再战三年吗？于是最佳方案呼之欲出：

- 一台游戏专用台式机，插上最新旗舰显卡，噪音什么的无所谓，反正玩游戏也听不见，整个便宜的TLC 1T SSD，游戏存档什么的都被steam/origin 同步到了他们的服务器上，配置注册表什么的随便改，反正崩溃了恢复一下系统即可。
- 一台工作专用，为了7x24小时运行，只用cpu核心显卡，采用通风性好的大机箱，加上最静音的散热器，配上一堆硬盘，把从当年Fedora 3/FreeBSD到如今Docker专用那十几个虚拟机都跑上，在MacBook Pro上做些代码编辑工作。

## 世界清净了？

暂时如此。估计过不了多久就会出现显卡性能不够/存储容量太小/耗电太高等等新问题，但是——“生命不息，折腾不止”吧。
